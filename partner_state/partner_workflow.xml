<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
        <record id="wkf_partner" model="workflow">
            <field name="name">partner.state.wkf</field>
            <field name="osv">res.partner</field>
            <field name="on_create">True</field>
        </record>
        
        <!-- Activity -->
        <record model="workflow.activity" id="partner_potential">
            <field name="wkf_id" ref="wkf_partner" />
            <field name="flow_start">True</field>
            <field name="name">potential</field>
            <field name="kind">function</field>
            <field name="action">partner_state_potential()</field>
        </record>
        
        <record model="workflow.activity" id="partner_pending">
            <field name="wkf_id" ref="wkf_partner" />
            <field name="name">pending</field>
            <field name="kind">function</field>
            <field name="action">partner_state_pending()</field>
        </record>
        
        <record model="workflow.activity" id="partner_approved">
            <field name="wkf_id" ref="wkf_partner" />
            <field name="name">approved</field>
            <field name="kind">function</field>
            <field name="action">partner_state_approved()</field>
        </record>
        
        <!-- Transitions -->
        <record model="workflow.transition" id="partner_pending_2_potential">
            <field name="act_from" ref="partner_pending" />
            <field name="act_to" ref="partner_potential" />
            <field name="signal">partner_pending_2_potential</field>
        </record>
        
        <record model="workflow.transition" id="partner_approved_2_potential">
            <field name="act_from" ref="partner_approved" />
            <field name="act_to" ref="partner_potential" />
            <field name="signal">partner_approved_2_potential</field>
        </record>
        
        <record model="workflow.transition" id="partner_potential_2_pending">
            <field name="act_from" ref="partner_potential" />
            <field name="act_to" ref="partner_pending" />
            <field name="signal">partner_potential_2_pending</field>
        </record>
        
        <record model="workflow.transition" id="partner_pending_2_approved">
            <field name="act_from" ref="partner_pending" />
            <field name="act_to" ref="partner_approved" />
            <field name="role_id" ref="base.group_sale_manager" />
            <field name="signal">partner_pending_2_approved</field>
        </record>
        
    </data>
</openerp>
